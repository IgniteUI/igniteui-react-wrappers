<!DOCTYPE html>
<html>
<head>
	<title>Ignite UI components for ReactJS</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link type="text/css" rel="stylesheet" href="https://secure-cdn-na.infragistics.com/igniteui/latest/css/themes/infragistics/infragistics.theme.css" />
	<link type="text/css" rel="stylesheet" href="https://secure-cdn-na.infragistics.com/igniteui/latest/css/structure/modules/infragistics.ui.shared.css" />
	<link type="text/css" rel="stylesheet" href="https://secure-cdn-na.infragistics.com/igniteui/latest/css/structure/modules/infragistics.ui.grid.css" />
	<link type="text/css" rel="stylesheet" href="https://secure-cdn-na.infragistics.com/igniteui/latest/css/structure/modules/infragistics.ui.editors.css" />
	<link type="text/css" rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" />
	<link rel="stylesheet" href="https://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.min.css" type="text/css" />
	<script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.8.3/modernizr.js"></script>
	<style>
        .links a, .links button {
            font-size: 1.75em;
            color:#999;
            margin:.75em .75em 0 0;
        }
        
        .billboard {
            background: url(https://www.igniteui.com/images/marketing/Homepage/Homepage_Header_Background.jpg) no-repeat scroll top !important; 
            -webkit-background-size: cover;
            -moz-background-size: cover;
            -o-background-size: cover;
            background-size: cover;
            color:#fff;
            background-color: #aa8c68;
            border-bottom: 10px solid #253f70;
        }
		
		.billboard .header-fg {
			background: url(https://www.igniteui.com/images/marketing/Homepage/Homepage_Header_Foreground.png) no-repeat scroll right bottom;
			height: 400px;
		}
		
        
        .billboard .row {
            margin: 1em;
        }
        
        .lead {
            margin-top:1em;
        }
        
        @media only screen and (min-width:641px){
            
            .lead {
                margin-top:0;
            }
            
            .billboard {
                min-height: 600px;
            }
            

            .billboard .lead {
                font-size: 1.2em;
                text-transform: uppercase;
            }
            
            .billboard .row {
                margin:0;
                margin-top: 4em;
            }

            .billboard h1 {
                font-size: 6em;
                margin-bottom:0;
            }

            .billboard h2 {
                font-size: 2.5em;
                margin-top: 0;
            }
        }
    </style>
	
	<script type="text/javascript">
		var sourceData = {
			"Products": [
				{ "ProductID": 1, "Name": "Chairs", "UnitsInStock": 385, "UnitPrice": 358.74353459046387, "DateAdded": "2004-06-20T20:18:20.469", InStock: true },
				{ "ProductID": 2, "Name": "Kitchen knifes", "UnitsInStock": 602, "UnitPrice": 140.2894189303226, "DateAdded": "2000-02-21T22:56:16.331", InStock: true },
				{ "ProductID": 3, "Name": "Screwdrivers", "UnitsInStock": 608, "UnitPrice": 567.43131092164253, "DateAdded": "2002-04-21T09:06:07.142", InStock: true },
				{ "ProductID": 4, "Name": "Desk lamps", "UnitsInStock": 402, "UnitPrice": 785.99307722691128, "DateAdded": "2001-03-27T03:57:27.373", InStock: true },
				{ "ProductID": 5, "Name": "Monitors", "UnitsInStock": 338, "UnitPrice": 157.42114473014192, "DateAdded": "2006-02-28T21:22:04.059", InStock: true },
				{ "ProductID": 6, "Name": "Beds", "UnitsInStock": 163, "UnitPrice": 178.17069924351324, "DateAdded": "1996-10-24T06:51:53.93", InStock: true },
				{ "ProductID": 7, "Name": "Dinner tables", "UnitsInStock": 163, "UnitPrice": 641.50092314998665, "DateAdded": "1999-11-19T06:10:35.984", InStock: true }
			]
		}
	</script>
</head>
<body>
    <div class="billboard">
        <div class="container">
            <div class="row">
                <a href="https://www.igniteui.com" target="_blank"><img src="https://www.igniteui.com/images/headerIcon.PNG" style="width: 300px"></a>
            </div>
            <div class="row">
				<div class="col-sm-12 col-lg-5">
					<h1>Ignite UI</h1>
					<h2>ReactJS Components</h2>
				</div>

				<div class="col-sm-12 header-fg col-lg-7"></div>
            </div>
        </div>
    </div>
    <div class="container">
        <h2>Live sample...</h2>
        <div class="row">
				<div id="app">
					<script type="text/babel">
						var App = React.createClass({
							getInitialState: function () {
								return {
									view: sourceData,
									selectedRowId: 1,
									nameValue: ''
								}
							},
							render: function () {
								return (
									<div className="row">
										<div className="col-sm-8">
											<IgGrid 
												id="grid1"
												ref="grid1"
												autoGenerateColumns={false}
												dataSource={this.state.view}
												primaryKey="ProductID"
												autoCommit={true}
												width="100%"
												columns={[
													{ headerText: "Product ID", key: "ProductID", dataType: "number" },
													{ headerText: "Name", key: "Name", dataType: "string" },
													{ headerText: "Stock", key: "UnitsInStock", dataType: "number" },
													{ headerText: "UnitPrice", key: "UnitPrice", dataType: "number", format: "#.##" },
													{ headerText: "DateAdded", key: "DateAdded", dataType: "date", format: "dateTime" }
												]}
												responseDataKey="Products"
												features={[
													{ name: "Updating", editRowEnded: this.gridRowUpdated, enableAddRow: false, enableDeleteRow: false }
												]}
											/>
										</div>
										<div className="col-sm-4">
											<p className="lead">The Ignite UI ReactJS components offer full
											two-way databinding into the controls.</p>
											<input type="text"
												ref="editorName"
												id="editor"
												className="form-control" 
												onChange={this.editorHandleUpdate}
												value={this.state.nameValue}/>
											<p className="text-muted push-down-xs">This text box is bound to the value of the Name column
												of the first record in the grid. Edit the name in the box to see how the changes
												are immediately reflected in the grid. This is but a taste as to what's possible
												with our ReactJS components.</p>
										</div>
									</div>
								);
							},
							componentDidMount: function() {
								this.setState({
									nameValue: this.getNameByRowId(1)
								});
							},
							getGridInstance: function (gridRefName) {
								gridRefName = gridRefName || "grid1";
								return (this.refs[gridRefName] || {}).igControl;
							},
							getGridUpdating: function (gridRefName) {
								var grid = this.getGridInstance(gridRefName);
								if (!grid || !grid.element) {
									return null;
								}
								return grid.element.data("igGridUpdating");
							},
							getNameByRowId: function (rowId) {
								var grid = this.getGridInstance(),
									Name, record;
								if (rowId > -1 && grid) {
									record = grid.dataSource.findRecordByKey(rowId) || {};
									Name = record["Name"];
								}
								return Name;
							},
							editorHandleUpdate: function (e) {
								var grid = this.getGridInstance(),
									upd;
								if (grid) {
									upd = this.getGridUpdating();
									if (upd) {
										upd.updateRow(1, { "Name": this.refs.editorName.value });
										this.setState({
											nameValue: this.getNameByRowId(1)
										});
									}
								}
							},
							gridRowUpdated: function (evt, ui) {
								var rowId = 1;
								if (this.state.selectedRowId !== rowId) {
									return;
								}
								
								if (!ui.rowAdding &&
									ui.values["Name"] !== ui.oldValues["Name"]) {
									this.setState({
										nameValue: this.getNameByRowId(1)
									});
								}
							}
						});
						
						ReactDOM.render(
							<App />,
							document.getElementById("app")
						);
					</script>
				</div>
                <div>
                    <h4>Code</h4>
                    <pre lang="babel" style="height: 20pc; overflow: auto;">
var App = React.createClass({
	getInitialState: function () {
		return {
			view: sourceData
		}
	},
	render: function () {
		return (
			&lt;div&gt;
				&lt;IgGrid 
					id="grid1"
					ref="grid1"
					autoGenerateColumns={false}
					dataSource={this.state.view}
					primaryKey="ProductID"
					autoCommit={true}
					width="700px"
					columns={[
						{ headerText: "Product ID", key: "ProductID", dataType: "number" },
						{ headerText: "Name", key: "Name", dataType: "string" },
						{ headerText: "Stock", key: "UnitsInStock", dataType: "number" },
						{ headerText: "UnitPrice", key: "UnitPrice", dataType: "number", format: "#.##" },
						{ headerText: "DateAdded", key: "DateAdded", dataType: "date", format: "dateTime" }
					]}
					responseDataKey="Products"
					features={[
						{ name: "Updating", editRowEnded: this.gridRowUpdated, enableAddRow: false, enableDeleteRow: false }
					]}
				/&gt;
				&lt;div className="col-sm-4"&gt;
					&lt;input type="text"
						ref="editorName"
						id="editor"
						className="form-control" 
						onChange={this.editorHandleUpdate}
						value={this.state.nameValue}/&gt;
				&lt;/div&gt;
			&lt;/div&gt;
		);
	},
	componentDidMount: function() {
		this.setState({
			nameValue: this.getNameByRowId(1)
		});
	},
	getGridInstance: function (gridRefName) {
		gridRefName = gridRefName || "grid1";
		return (this.refs[gridRefName] || {}).igControl;
	},
	getGridUpdating: function (gridRefName) {
		var grid = this.getGridInstance(gridRefName);
		if (!grid || !grid.element) {
			return null;
		}
		return grid.element.data("igGridUpdating");
	},
	getNameByRowId: function (rowId) {
		var grid = this.getGridInstance(),
			Name, record;
		if (rowId > -1 && grid) {
			record = grid.dataSource.findRecordByKey(rowId) || {};
			Name = record["Name"];
		}
		return Name;
	},
	editorHandleUpdate: function (e) {
		var grid = this.getGridInstance(),
			upd;
		if (grid) {
			upd = this.getGridUpdating();
			if (upd) {
				upd.updateRow(1, { "Name": this.refs.editorName.value });
				this.setState({
					nameValue: this.getNameByRowId(1)
				});
			}
		}
	},
	gridRowUpdated: function (evt, ui) {
		var rowId = 1;
		if (this.state.selectedRowId !== rowId) {
			return;
		}
		
		if (!ui.rowAdding &&
			ui.values["Name"] !== ui.oldValues["Name"]) {
			this.setState({
				nameValue: this.getNameByRowId(1)
			});
		}
	}
});

ReactDOM.render(
   &lt;App /&gt;,
  document.getElementById("app")
);
					</pre>
                    <p>Ignite UI controls are instantiated using ReactJS components. This example uses Babel.</p>
                </div>
        </div>
        <hr />
        
        <h2>Samples</h2>
        <div class="links">
            <a class="btn btn-default" href="samples/igGrid/igGrid.html">igGrid</a>
        </div>
		<br />
        <div class="push-down-md">
            <a href="https://github.com/IgniteUI/igniteui-react" class="btn btn-default btn-primary btn-lg"><i class="fa fa-github"></i> View source on GitHub</a>
        </div>
		<hr/>
    </div>
	
    <footer>
        <div class="container">
            <div class="row">
                <div class="col-sm-12">
                    <p><a href="https://github.com/IgniteUI/igniteui-react/issues">Feedback &amp; Questions</a></p>
                    <p class="small">For more information or to download a trial of Ignite UI, please visit: <a href="https://igniteui.com">https://igniteui.com</a></p>
                </div>
            </div>
        </div>
    </footer>
    
	<script src="https://code.jquery.com/jquery-1.10.2.min.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/jquery-ui.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/react/15.3.2/react.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/react/15.3.2/react-dom.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/babel-core/5.6.16/browser.js"></script>

	<script src="https://secure-cdn-na.infragistics.com/igniteui/latest/js/infragistics.core.js"></script>
	<script src="https://secure-cdn-na.infragistics.com/igniteui/latest/js/infragistics.lob.js"></script>
    
	<script src="https://rawgit.com/IgniteUI/igniteui-react/master/src/util/ignite-react.js"></script>
	<script src="https://rawgit.com/IgniteUI/igniteui-react/master/src/components/igGrid.js"></script>
	<script src="https://rawgit.com/IgniteUI/igniteui-react/master/src/props/igGrid.js"></script>
</body>
</html>